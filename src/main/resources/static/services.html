<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Services - Bilen's Ven</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<!-- Navigation -->
<nav class="navbar">
    <div class="container">
        <div class="nav-brand">
            <h1>Bilen's Ven</h1>
        </div>
        <div class="nav-links">
            <a href="index.html">Hjem</a>
            <a href="services.html" class="active">Services</a>
            <a href="medarbejdere.html">Medarbejdere</a>
            <a href="index.html#kontakt">Kontakt</a>
        </div>
    </div>
</nav>

<!-- Services Section -->
<section class="section">
    <div class="container">
        <h2 class="section-title">Vores Services</h2>
        <p class="section-subtitle">Vi tilbyder et bredt udvalg af professionelle bilservices</p>

        <!-- Loading State -->
        <div id="services-loading" class="loading">
            <div class="spinner"></div>
            <p>Henter services...</p>
        </div>

        <!-- Error State -->
        <div id="services-error" class="error-message hidden"></div>

        <!-- Services Grid -->
        <div id="services-grid" class="services-grid hidden"></div>
    </div>
</section>

<!-- Footer -->
<footer class="footer">
    <div class="container">
        <p>&copy; 2024 Bilen's Ven. Alle rettigheder forbeholdes.</p>
    </div>
</footer>

<script src="js/api.js"></script>
<script src="js/services.js"></script>
</body>
</html>
<script>
    // Fetch services from API
    async function loadServices() {
        try {
            const response = await fetch('http://localhost:8080/api/services?sortBy=name');
            const services = await response.json();

            const servicesGrid = document.getElementById('services-grid');

            servicesGrid.innerHTML = services.map(service => `
                <div class="service-card">
                    <div class="service-image">
                        ${service.imageUrl ?
                `<img src="${service.imageUrl}" alt="${service.name}" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">` :
                ''}
                        <div class="image-placeholder" style="${service.imageUrl ? 'display: none;' : 'display: flex;'}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                <polyline points="21 15 16 10 5 21"></polyline>
                            </svg>
                        </div>
                    </div>
                    <div class="service-content">
                        <h3>${service.name}</h3>
                        <p>${service.description}</p>
                        <div class="service-price">${service.price.toFixed(2)} DKK</div>
                    </div>
                </div>
            `).join('');
        } catch (error) {
            console.error('Error loading services:', error);
            document.getElementById('services-grid').innerHTML =
                '<p style="grid-column: 1/-1; text-align: center; color: #ef4444;">Kunne ikke indlæse services. Prøv igen senere.</p>';
        }
    }

    // Load services when page loads
    document.addEventListener('DOMContentLoaded', loadServices);
</script>
